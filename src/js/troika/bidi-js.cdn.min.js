/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/bidi-js@1.0.3/dist/bidi.mjs
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
function e(){return function(e){var r={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},a={},t={};a.L=1,t[1]="L",Object.keys(r).forEach((function(e,r){a[e]=1<<r+1,t[a[e]]=e})),Object.freeze(a);var n=a.LRI|a.RLI|a.FSI,f=a.L|a.R|a.AL,l=a.B|a.S|a.WS|a.ON|a.FSI|a.LRI|a.RLI|a.PDI,i=a.BN|a.RLE|a.LRE|a.RLO|a.LRO|a.PDF,v=a.S|a.WS|a.B|n|a.PDI|i,o=null;function s(e){return function(){if(!o){o=new Map;var e=function(e){if(r.hasOwnProperty(e)){var t=0;r[e].split(",").forEach((function(r){var n=r.split("+"),f=n[0],l=n[1];f=parseInt(f,36),l=l?parseInt(l,36):0,o.set(t+=f,a[e]);for(var i=0;i<l;i++)o.set(++t,a[e])}))}};for(var t in r)e(t)}}(),o.get(e.codePointAt(0))||a.L}var h,g,c,u={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function d(e,r){var a,t=0,n=new Map,f=r&&new Map;return e.split(",").forEach((function e(l){if(-1!==l.indexOf("+"))for(var i=+l;i--;)e(a);else{a=l;var v=l.split(">"),o=v[0],s=v[1];o=String.fromCodePoint(t+=parseInt(o,36)),s=String.fromCodePoint(t+=parseInt(s,36)),n.set(o,s),r&&f.set(s,o)}})),{map:n,reverseMap:f}}function p(){if(!h){var e=d(u.pairs,!0),r=e.map,a=e.reverseMap;h=r,g=a,c=d(u.canonical,!1).map}}function b(e){return p(),h.get(e)||null}function k(e){return p(),g.get(e)||null}function m(e){return p(),c.get(e)||null}var _=a.L,I=a.R,j=a.EN,x=a.ES,q=a.ET,L=a.AN,y=a.CS,w=a.B,R=a.S,M=a.ON,S=a.BN,E=a.NSM,z=a.AL,O=a.LRO,P=a.RLO,N=a.LRE,B=a.RLE,C=a.PDF,D=a.LRI,T=a.RLI,W=a.FSI,A=a.PDI;var F,U="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1";function G(e){return function(){if(!F){var e=d(U,!0),r=e.map;e.reverseMap.forEach((function(e,a){r.set(a,e)})),F=r}}(),F.get(e)||null}function H(e,r,a,t){var n=e.length;a=Math.max(0,null==a?0:+a),t=Math.min(n-1,null==t?n-1:+t);var f=[];return r.paragraphs.forEach((function(n){var l=Math.max(a,n.start),i=Math.min(t,n.end);if(l<i){for(var o=r.levels.slice(l,i+1),h=i;h>=l&&s(e[h])&v;h--)o[h]=n.level;for(var g=n.level,c=1/0,u=0;u<o.length;u++){var d=o[u];d>g&&(g=d),d<c&&(c=1|d)}for(var p=g;p>=c;p--)for(var b=0;b<o.length;b++)if(o[b]>=p){for(var k=b;b+1<o.length&&o[b+1]>=p;)b++;b>k&&f.push([k+l,b+l])}}})),f}function J(e,r,a,t){for(var n=H(e,r,a,t),f=[],l=0;l<e.length;l++)f[l]=l;return n.forEach((function(e){for(var r=e[0],a=e[1],t=f.slice(r,a+1),n=t.length;n--;)f[a-n]=t[n]})),f}return e.closingToOpeningBracket=k,e.getBidiCharType=s,e.getBidiCharTypeName=function(e){return t[s(e)]},e.getCanonicalBracket=m,e.getEmbeddingLevels=function(e,r){for(var a=new Uint32Array(e.length),t=0;t<e.length;t++)a[t]=s(e[t]);var o=new Map;function h(e,r){var t=a[e];a[e]=r,o.set(t,o.get(t)-1),t&l&&o.set(l,o.get(l)-1),o.set(r,(o.get(r)||0)+1),r&l&&o.set(l,(o.get(l)||0)+1)}for(var g=new Uint8Array(e.length),c=new Map,u=[],d=null,p=0;p<e.length;p++)d||u.push(d={start:p,end:e.length-1,level:"rtl"===r?1:"ltr"===r?0:Ar(p,!1)}),a[p]&w&&(d.end=p,d=null);for(var F=B|N|P|O|n|A|C|w,U=function(e){return e+(1&e?1:2)},G=function(e){return e+(1&e?2:1)},H=0;H<u.length;H++){var J=[{_level:(d=u[H]).level,_override:0,_isolate:0}],K=void 0,Q=0,V=0,X=0;o.clear();for(var Y=d.start;Y<=d.end;Y++){var Z=a[Y];if(K=J[J.length-1],o.set(Z,(o.get(Z)||0)+1),Z&l&&o.set(l,(o.get(l)||0)+1),Z&F)if(Z&(B|N)){g[Y]=K._level;var $=(Z===B?G:U)(K._level);$<=125&&!Q&&!V?J.push({_level:$,_override:0,_isolate:0}):Q||V++}else if(Z&(P|O)){g[Y]=K._level;var ee=(Z===P?G:U)(K._level);ee<=125&&!Q&&!V?J.push({_level:ee,_override:Z&P?I:_,_isolate:0}):Q||V++}else if(Z&n){Z&W&&(Z=1===Ar(Y+1,!0)?T:D),g[Y]=K._level,K._override&&h(Y,K._override);var re=(Z===T?G:U)(K._level);re<=125&&0===Q&&0===V?(X++,J.push({_level:re,_override:0,_isolate:1,_isolInitIndex:Y})):Q++}else if(Z&A){if(Q>0)Q--;else if(X>0){for(V=0;!J[J.length-1]._isolate;)J.pop();var ae=J[J.length-1]._isolInitIndex;null!=ae&&(c.set(ae,Y),c.set(Y,ae)),J.pop(),X--}K=J[J.length-1],g[Y]=K._level,K._override&&h(Y,K._override)}else Z&C?(0===Q&&(V>0?V--:!K._isolate&&J.length>1&&(J.pop(),K=J[J.length-1])),g[Y]=K._level):Z&w&&(g[Y]=d.level);else g[Y]=K._level,K._override&&Z!==S&&h(Y,K._override)}for(var te=[],ne=null,fe=d.start;fe<=d.end;fe++){var le=a[fe];if(!(le&i)){var ie=g[fe],ve=le&n,oe=le===A;ne&&ie===ne._level?(ne._end=fe,ne._endsWithIsolInit=ve):te.push(ne={_start:fe,_end:fe,_level:ie,_startsWithPDI:oe,_endsWithIsolInit:ve})}}for(var se=[],he=0;he<te.length;he++){var ge=te[he];if(!ge._startsWithPDI||ge._startsWithPDI&&!c.has(ge._start)){for(var ce=[ne=ge],ue=void 0;ne&&ne._endsWithIsolInit&&null!=(ue=c.get(ne._end));)for(var de=he+1;de<te.length;de++)if(te[de]._start===ue){ce.push(ne=te[de]);break}for(var pe=[],be=0;be<ce.length;be++)for(var ke=ce[be],me=ke._start;me<=ke._end;me++)pe.push(me);for(var _e=g[pe[0]],Ie=d.level,je=pe[0]-1;je>=0;je--)if(!(a[je]&i)){Ie=g[je];break}var xe=pe[pe.length-1],qe=g[xe],Le=d.level;if(!(a[xe]&n))for(var ye=xe+1;ye<=d.end;ye++)if(!(a[ye]&i)){Le=g[ye];break}se.push({_seqIndices:pe,_sosType:Math.max(Ie,_e)%2?I:_,_eosType:Math.max(Le,qe)%2?I:_})}}for(var we=0;we<se.length;we++){var Re=se[we],Me=Re._seqIndices,Se=Re._sosType,Ee=Re._eosType,ze=1&g[Me[0]]?I:_;if(o.get(E))for(var Oe=0;Oe<Me.length;Oe++){var Pe=Me[Oe];if(a[Pe]&E){for(var Ne=Se,Be=Oe-1;Be>=0;Be--)if(!(a[Me[Be]]&i)){Ne=a[Me[Be]];break}h(Pe,Ne&(n|A)?M:Ne)}}if(o.get(j))for(var Ce=0;Ce<Me.length;Ce++){var De=Me[Ce];if(a[De]&j)for(var Te=Ce-1;Te>=-1;Te--){var We=-1===Te?Se:a[Me[Te]];if(We&f){We===z&&h(De,L);break}}}if(o.get(z))for(var Ae=0;Ae<Me.length;Ae++){var Fe=Me[Ae];a[Fe]&z&&h(Fe,I)}if(o.get(x)||o.get(y))for(var Ue=1;Ue<Me.length-1;Ue++){var Ge=Me[Ue];if(a[Ge]&(x|y)){for(var He=0,Je=0,Ke=Ue-1;Ke>=0&&(He=a[Me[Ke]])&i;Ke--);for(var Qe=Ue+1;Qe<Me.length&&(Je=a[Me[Qe]])&i;Qe++);He===Je&&(a[Ge]===x?He===j:He&(j|L))&&h(Ge,He)}}if(o.get(j))for(var Ve=0;Ve<Me.length;Ve++){var Xe=Me[Ve];if(a[Xe]&j){for(var Ye=Ve-1;Ye>=0&&a[Me[Ye]]&(q|i);Ye--)h(Me[Ye],j);for(Ve++;Ve<Me.length&&a[Me[Ve]]&(q|i|j);Ve++)a[Me[Ve]]!==j&&h(Me[Ve],j)}}if(o.get(q)||o.get(x)||o.get(y))for(var Ze=0;Ze<Me.length;Ze++){var $e=Me[Ze];if(a[$e]&(q|x|y)){h($e,M);for(var er=Ze-1;er>=0&&a[Me[er]]&i;er--)h(Me[er],M);for(var rr=Ze+1;rr<Me.length&&a[Me[rr]]&i;rr++)h(Me[rr],M)}}if(o.get(j))for(var ar=0,tr=Se;ar<Me.length;ar++){var nr=Me[ar],fr=a[nr];fr&j?tr===_&&h(nr,_):fr&f&&(tr=fr)}if(o.get(l)){for(var lr=I|j|L,ir=lr|_,vr=[],or=[],sr=0;sr<Me.length;sr++)if(a[Me[sr]]&l){var hr=e[Me[sr]],gr=void 0;if(null!==b(hr)){if(!(or.length<63))break;or.push({char:hr,seqIndex:sr})}else if(null!==(gr=k(hr)))for(var cr=or.length-1;cr>=0;cr--){var ur=or[cr].char;if(ur===gr||ur===k(m(hr))||b(m(ur))===hr){vr.push([or[cr].seqIndex,sr]),or.length=cr;break}}}vr.sort((function(e,r){return e[0]-r[0]}));for(var dr=0;dr<vr.length;dr++){for(var pr=vr[dr],br=pr[0],kr=pr[1],mr=!1,_r=0,Ir=br+1;Ir<kr;Ir++){var jr=Me[Ir];if(a[jr]&ir){mr=!0;var xr=a[jr]&lr?I:_;if(xr===ze){_r=xr;break}}}if(mr&&!_r){_r=Se;for(var qr=br-1;qr>=0;qr--){var Lr=Me[qr];if(a[Lr]&ir){var yr=a[Lr]&lr?I:_;_r=yr!==ze?yr:ze;break}}}if(_r){if(a[Me[br]]=a[Me[kr]]=_r,_r!==ze)for(var wr=br+1;wr<Me.length;wr++)if(!(a[Me[wr]]&i)){s(e[Me[wr]])&E&&(a[Me[wr]]=_r);break}if(_r!==ze)for(var Rr=kr+1;Rr<Me.length;Rr++)if(!(a[Me[Rr]]&i)){s(e[Me[Rr]])&E&&(a[Me[Rr]]=_r);break}}}for(var Mr=0;Mr<Me.length;Mr++)if(a[Me[Mr]]&l){for(var Sr=Mr,Er=Mr,zr=Se,Or=Mr-1;Or>=0;Or--){if(!(a[Me[Or]]&i)){zr=a[Me[Or]]&lr?I:_;break}Sr=Or}for(var Pr=Ee,Nr=Mr+1;Nr<Me.length;Nr++){if(!(a[Me[Nr]]&(l|i))){Pr=a[Me[Nr]]&lr?I:_;break}Er=Nr}for(var Br=Sr;Br<=Er;Br++)a[Me[Br]]=zr===Pr?zr:ze;Mr=Er}}}for(var Cr=d.start;Cr<=d.end;Cr++){var Dr=g[Cr],Tr=a[Cr];if(1&Dr?Tr&(_|j|L)&&g[Cr]++:Tr&I?g[Cr]++:Tr&(L|j)&&(g[Cr]+=2),Tr&i&&(g[Cr]=0===Cr?d.level:g[Cr-1]),Cr===d.end||s(e[Cr])&(R|w))for(var Wr=Cr;Wr>=0&&s(e[Wr])&v;Wr--)g[Wr]=d.level}}return{levels:g,paragraphs:u};function Ar(r,t){for(var f=r;f<e.length;f++){var l=a[f];if(l&(I|z))return 1;if(l&(w|_)||t&&l===A)return 0;if(l&n){var i=Fr(f);f=-1===i?e.length:i}}return 0}function Fr(r){for(var t=1,f=r+1;f<e.length;f++){var l=a[f];if(l&w)break;if(l&A){if(0==--t)return f}else l&n&&t++}return-1}},e.getMirroredCharacter=G,e.getMirroredCharactersMap=function(e,r,a,t){var n=e.length;a=Math.max(0,null==a?0:+a),t=Math.min(n-1,null==t?n-1:+t);for(var f=new Map,l=a;l<=t;l++)if(1&r[l]){var i=G(e[l]);null!==i&&f.set(l,i)}return f},e.getReorderSegments=H,e.getReorderedIndices=J,e.getReorderedString=function(e,r,a,t){var n=J(e,r,a,t),f=[].concat(e);return n.forEach((function(a,t){f[t]=(1&r.levels[a]?G(e[a]):null)||e[a]})),f.join("")},e.openingToClosingBracket=b,Object.defineProperty(e,"__esModule",{value:!0}),e}({})}export{e as default};
//# sourceMappingURL=/sm/a69d4b50437575f209fe292c5adcb97456ac9b988a65b2f266bdcf7f40a8a2cd.map